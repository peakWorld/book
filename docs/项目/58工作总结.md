负责本地化相亲业务(H5和PC)、春运活动、拍客小程序的开发工作, 参与协同开发北斗前端监控系统、朱雀平台。
1、本地化相亲业务H5页面排行榜很多, 设计开发了列表配置功能, 减少了重复代码的开发。
  视屏相亲活动, 有定期排行榜、不定期排行榜、大型活动排行榜等, 而排行榜展示只有几种类型、部分数据不展示。 每次活动都要重新开发, 浪费大量时间。
  服务端返回Tab配置(几列tab、每列展示方式)及首屏展示数据, 切换tab加载新数据。
2、本地化相亲业务PC端需要产出大量活动报表, 设计开发了可配置报表生成功能, 节省了大量工作量;  
  数据类型生成器 对已有的数据类型进行加减乘除, 生成新的数据类型, 每种数据类型设定唯一ID.
  自定义报表 有多种模板表格且可自定报表表格展示, 确保表格的每一列对应一种数据类型ID, 生成报表唯一ID, 服务端保存报表需展示的数据类型配置。
  报表展示   根据报表ID,查询数据类型配置,前端组装相应的表格,然后查询这些数据类型对应的数据进行展示。
3、拍客小程序 使用Taro从零搭建, 开发大部分功能; 58同城小程序 首页瀑布流开发。
  瀑布流开发
    流中小块有多种类型, 方法一: 无图加2, 有图加1, 导致一侧太长; 方法二: 每次更新, 事实计算, 有点卡; 方法三: 按设计图规格, 计算小块中每个纵向元素高度, 新元素按高度计算小块高度, 在左右比较。
    对接多个业务部门, 接入方式多种, 有插件、分包、webview引入, 而且每个业务线需要传入的参数也不一样。
4、朱雀平台 主要负责数据可视化部分开发, 以及截屏功能的设计开发。
  可视化部分
    图表需要切换柱状图、折线图、饼图, 还要截图、展示数据表格的功能。每个图表内设置过滤选项(可隐藏), 一个页面有多个图表, 还要加上外部的过滤选项。而echars中折线图和饼图的数据格式也不一样, 数据展示不满足需求。
    图表展示参数通过props传入, 接口请求封装成统一的hooks函数, 只是传入的过滤项有差异。
  截屏功能(Puppeteer)
    在Node端利用puppeteer重新加载页面, 然后用截图功能截屏。
    单页面截图 antd的表格高度在数据加载前后不一致, 需要通過MutationObserver來监听表格高度变化, 改变截屏高度。
    多页面截图 同时截屏多个页面, 需要按上次打开页面设置的参数来截图。将参数保存在localStorage中, 然后将所有页面参数发送服务端, 在puppeteer中并行打开多个page, 提前设置localStorage, 就和浏览器中打开一致了, 再截图。
    Puppeteer优化 浏览器实例池、奔溃重启, 开发环境中‘/__webpack_hmr’一直处于链接状态, 导致接口一致处于等待状态, 需要过滤这个接口。

5、春运活动 主要负责开发抽奖页面, 以及兑换页锚点定位功能

6、北斗前端监控系统 基于React、Node、Antd、Typescript的前后端分离系统, 实现了数据可视化、Cas单点登录、权限管理、日志管理、实时告警等功能。 我主要负责登录系统、权限管理、日志管理系统的开发, 以及部分可视化开发。
  <!-- SDK层、数据收集层(数据清洗)、数据存储层、核心服务层(node)、可视化平台(react)
  异常监控、性能优化。 功能分为 页面流量、性能、js运行异常、接口调用异常、资源加载异常
  SDK注入 动态加载器,获取最新版本号拼接地址;npm包; 不携带版本号, 更新版本强制刷新CDN。 灰度、版本更新告知
  收集数据量过大 异常全量收集, 正常采样收集。 -->

  登录系统(单点登录)
    登录校验主要由Node端负责,前端页面无法自动重定向, 通过Ajax请求间接判断用户是否登录。
    系统任意url地址(携带参数)进入系统, 登录成功后, 展示url地址页面而非首页。 跳转登录页前在cookie中缓存referer地址, 登录成功后, 重定向到referer地址。
    <!-- 首次登录走ajax, 响应中 cookie保存当前referer地址, 数据携带 cas系统登录页和服务端登录接口api, 前端刷新页面进入`登录页?api`
    登录成功, 地址栏重定向到`api?ticket`，其中tciket票据是登录凭证
    api接口请求进入服务端, 此时请求cookie中携带referer地址数据, cas系统校验ticket票据, 校验成功, 返回用数据信息。重定向到`referer`, cookie中携带登录信息 -->

  权限管理
    <!-- 一般的系统中, 用户绑定角色，角色关联权限, 有了权限才能操作项目。项目是基本操作对象, 加入新人项目要关联员工。 -->
    北斗系统中, 无需注册、业务线隔离、业务线与成员分离; 内置超管, 业务线负责人为管理员, 业务线成员为普通用户。
    使用BSP登录系统, 自动获取用户信息、判断用户权限。
    新建业务线, 自动绑定管理员; 业务线关联项目, 只有该业务线下成员才可操作关联项目, 业务线负责的业务改变, 进行项目迁移, 成员不可再操作该项目; 成员在业务线间流动, 自动变更可查看项目。

  日志管理
    多实例隔离输出、各级别日志自定义格式和色彩、Node全路径日志
    <!-- 每条输出数据封装成一个对象; 每个输出文件也封装成一个对象, 文件实例统一管理; 复写原生console函数. 使用async_hooks实现前后端请求链路查询。 -->

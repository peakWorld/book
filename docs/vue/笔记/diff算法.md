# Diff算法 9-4
比较两组子节点, 以最小的性能开销完成更新操作.
* 拿新的一组子节点中的节点去旧的一组子节点中寻找可复用的节点, 记录该节点的索引为最大索引; 在更新过程中节点的索引小于最大索引, 则该节点对应的真实DOM元素需要移动。

## 减少DOM操作的性能开销 9-1
* 相同数量子节点 - 删除DOM操作取消
* 不同数量子节点 - 只进行必要的DOM操作

## DOM复用与key的作用
* 新旧两组子节点中的确存在可复用的节点。
* 只要两个虚拟节点的type属性值和key属性值都相同, 则认为他们是相同的。

## 找到需要移动的元素 9-2
通过key值找到可复用的节点, 思考节点是否需要移动、如何移动？
* 每次寻找可复用的节点时, 都会记录该复用节点在旧的一组子节点中的位置索引。
* 在旧children中寻找具有相同key值节点的过程中, 缓存遇到的最大索引值A。如果后续寻找的过程中, 存在索引值比A还小的节点, 则意味着该节点需要移动。

## 如何移动元素
移动一个节点所对应的真实DOM节点, 并不是移动虚拟节点本身。
* 新children的顺序其实就是更新后真实DOM节点应有的顺序。
* 真实DOM顺序与新的一组子节点的顺序相同。

## 添加新元素 9-3
* 找到新增节点、将新增节点挂载到正确位置

## 移除不存在的元素
